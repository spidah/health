<div class="block">
  <h2>Foods</h2>
  <%= print_flash(flash[:error], 'error') -%>
  <%= print_flash(flash[:info], 'info') -%>
<% if @foods.size > 0 -%>
  <p>You have <%= pluralize(@foods.size, 'food') -%>. Would you like to <%= link_to('add another', new_food_path) -%>?</p>
</div>
<div class="block">
  <table class="foods-list">
    <tr>
      <%= render :partial => 'foods_header' -%>
      <th>Edit</th>
      <th>Delete</th>
    </tr>
  <% for food in @foods do -%>
    <tr class="<%= cycle('odd', 'even') -%>">
      <%= render :partial => 'food_item', :locals => {:food => food} -%>
      <td class="edit"><%= link_to image_tag('/images/edit.gif'), edit_food_path(food) -%></td>
      <td class="delete"><%= link_to image_tag('/images/delete.gif'), food_path(food),
        :confirm => 'Are you sure you want to delete this food?', :method => :delete -%></td>
    </tr>
  <% end -%>
  </table>
  <%= will_paginate(@foods) -%>
<% else -%>
  <p>You have not entered any foods yet. Before adding items to a meal you will need to add some foods.</p>
  <div id="foods_form">
    <% form_for(@food) do |f| -%>
      <%= render :partial => 'food_form', :locals => {:f => f, :action => 'Add'} -%>
    <% end -%>
  </div>
<% end -%>
</div>
